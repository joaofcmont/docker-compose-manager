<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="google-adsense-account" content="ca-pub-8922143154605739">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker Compose Form</title>

</head>
<body>
    <header>
      <nav>
        <a routerLink="/" class="logo-link">
          <img src="assets/favicon.png" alt="Docker Compose Manager" class="logo">
        </a>
        <ul class="nav-links">
          <li><a routerLink="/home" class="nav-link">Home</a></li>
          <li><a routerLink="/editor" class="nav-link active">Editor</a></li>
          <li><a routerLink="/templates" class="nav-link">Templates</a></li>
          <li class="contact_button"><a routerLink="/contact" class="nav-link contact-link">Contact</a></li>
        </ul>
      </nav>
    </header>
  
    <main>
      <div class="content-header">
        <h1>Docker Compose Editor</h1>
        <p class="subheading">Create, edit, and manage your Docker Compose configurations visually</p>
        <div class="progress-indicator" *ngIf="services.length > 0 && activeTab === 'form'">
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="formProgress"></div>
          </div>
          <span class="progress-text">{{ formProgress }}% Complete</span>
        </div>
      </div>
  
      <section id="import-section">
        <p>Upload your Docker Compose YAML file to start working with it.</p>
        <div class="file-upload">
          <input 
            type="file" 
            (change)="onFileSelected($event)" 
            accept=".yaml, .yml" 
            id="file-upload"
            class="file-input"
            [disabled]="isImporting">
          <label for="file-upload" class="file-label" [class.loading]="isImporting">
            <span *ngIf="!isImporting">Choose File</span>
            <span *ngIf="isImporting" class="loading-text">
              <span class="spinner-small"></span>
              Importing...
            </span>
          </label>
        </div>
        <div class="advanced-features-note" *ngIf="hasAdvancedFeatures">
          <span class="note-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></span>
          <span>{{ advancedFeaturesNote }}</span>
        </div>
      </section>
  
      <div class="container">
        <!-- Tabs Navigation -->
        <div class="tabs-navigation">
          <div class="tabs-left">
            <button 
              type="button"
              class="tab-button"
              [class.active]="activeTab === 'form'"
              (click)="setActiveTab('form')">
              Form
            </button>
            <button 
              type="button"
              class="tab-button"
              [class.active]="activeTab === 'diagram'"
              (click)="setActiveTab('diagram')">
              Diagram
            </button>
            <button 
              type="button"
              class="tab-button"
              [class.active]="activeTab === 'yaml'"
              (click)="setActiveTab('yaml')">
              YAML Preview
            </button>
          </div>
          <div class="tab-actions">
            <button 
              type="button"
              class="btn-template"
              (click)="quickSaveTemplate()"
              [disabled]="isSavingTemplate || services.length === 0"
              title="Quick save current configuration as template">
              <span *ngIf="!isSavingTemplate">Save Template</span>
              <span *ngIf="isSavingTemplate" class="button-loading">
                <span class="spinner-small"></span>
                Saving...
              </span>
            </button>
            <button 
              type="button"
              class="btn-learning-center"
              (click)="openLearningCenter()"
              title="Open Learning Center">
              Learning Center
            </button>
            <button 
              type="button"
              class="btn-suggestions"
              *ngIf="getConfigSuggestions().length > 0"
              (click)="openSuggestionsPopup()"
              [title]="'View ' + getConfigSuggestions().length + ' configuration suggestions'">
              Suggestions ({{ getConfigSuggestions().length }})
            </button>
          </div>
        </div>

        <!-- Tab Content Wrapper -->
        <div class="tab-content-wrapper">
          <!-- Learning Panel (can be shown alongside form) -->
          <div class="learning-panel" *ngIf="showLearningPanel && activeTab === 'form'">
            <div class="learning-panel-header">
              <h3>
                <span *ngIf="activeFieldTips.length > 0">Tips: {{ activeFieldName }}</span>
                <span *ngIf="activeFieldTips.length === 0">Learning Center</span>
              </h3>
              <button type="button" class="btn-close-panel" (click)="toggleLearningPanel()">√ó</button>
            </div>
            
            <div class="learning-panel-content">
              <!-- Field-specific tips -->
              <div class="tips-section" *ngIf="activeFieldTips.length > 0">
                <div *ngFor="let tip of activeFieldTips" class="tip-item" [class]="'tip-' + tip.category">
                  <div class="tip-header">
                    <strong>{{ tip.title }}</strong>
                    <a *ngIf="tip.link" [href]="tip.link" target="_blank" class="tip-link" title="View documentation">
                      üìñ Docs
                    </a>
                  </div>
                  <p>{{ tip.message }}</p>
                </div>
              </div>

              <!-- Config Suggestions -->
              <div class="suggestions-section" *ngIf="getConfigSuggestions().length > 0 && activeFieldTips.length === 0">
                <h4>Configuration Suggestions</h4>
                <div *ngFor="let suggestion of getConfigSuggestions()" class="suggestion-item" [class]="'suggestion-' + suggestion.type">
                  <div class="suggestion-header">
                    <span class="suggestion-icon">
                      <span *ngIf="suggestion.type === 'error'">‚ùå</span>
                      <span *ngIf="suggestion.type === 'warning'">‚ö†Ô∏è</span>
                      <span *ngIf="suggestion.type === 'suggestion'">üí°</span>
                      <span *ngIf="suggestion.type === 'optimization'">‚ö°</span>
                    </span>
                    <strong>{{ suggestion.title }}</strong>
                    <span class="severity-badge" [class]="'severity-' + suggestion.severity">
                      {{ suggestion.severity }}
                    </span>
                  </div>
                  <p>{{ suggestion.message }}</p>
                  <div class="suggestion-fix" *ngIf="suggestion.fix">
                    <strong>Fix:</strong> {{ suggestion.fix }}
                  </div>
                </div>
              </div>

              <!-- Quick References -->
              <div class="references-section" *ngIf="activeFieldTips.length === 0 && getConfigSuggestions().length === 0">
                <h4>Quick References</h4>
                <div *ngFor="let category of getQuickReferences()" class="reference-category">
                  <h5>{{ category.category }}</h5>
                  <div *ngFor="let example of category.examples" class="reference-example">
                    <strong>{{ example.title }}</strong>
                    <p class="reference-description">{{ example.description }}</p>
                    <pre class="reference-yaml"><code>{{ example.yaml }}</code></pre>
                  </div>
                </div>
              </div>

              <!-- Best Practices -->
              <div class="best-practices-section" *ngIf="activeFieldTips.length === 0 && getConfigSuggestions().length === 0">
                <h4>Best Practices</h4>
                <div *ngFor="let category of getBestPractices()" class="practice-category">
                  <h5>{{ category.category }}</h5>
                  <div *ngFor="let practice of category.practices" class="practice-item">
                    <strong>{{ practice.title }}</strong>
                    <p>{{ practice.description }}</p>
                    <a *ngIf="practice.link" [href]="practice.link" target="_blank" class="practice-link">
                      Learn more ‚Üí
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Service List Sidebar (shown in form and diagram tabs) -->
          <div class="service-list-sidebar" *ngIf="activeTab === 'form' || activeTab === 'diagram'">
          <div class="service-list-header">
            <div class="service-header-title">
              <h3>Services</h3>
              <span class="service-count-badge" *ngIf="services.length > 0" [title]="services.length + ' service' + (services.length > 1 ? 's' : '')">
                {{ services.length }}
              </span>
            </div>
            <button type="button" class="btn-add-service" (click)="addNewService()" title="Add a new service to your Docker Compose configuration">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              <span>Add Service</span>
            </button>
            <div class="multi-service-hint" *ngIf="services.length === 1 && !hasSeenMultiServiceHint">
              <span class="hint-icon">üí°</span>
              <span class="hint-text">You can add multiple services to build complex multi-container applications!</span>
              <button type="button" class="hint-close" (click)="dismissMultiServiceHint()" title="Dismiss">√ó</button>
            </div>
          </div>
          <div class="service-list">
            <div 
              *ngFor="let service of services; let i = index" 
              class="service-item"
              [class.selected]="i === selectedServiceIndex"
              (click)="selectService(i)">
              <div class="service-item-content">
                <span class="service-icon">
                  <svg-icon [type]="getServiceIcon(service)"></svg-icon>
                </span>
                <span class="service-name">{{ service.serviceName || 'Unnamed Service' }}</span>
              </div>
              <div class="service-item-actions" (click)="$event.stopPropagation()">
                <button 
                  type="button" 
                  class="btn-duplicate" 
                  (click)="duplicateService()"
                  *ngIf="i === selectedServiceIndex"
                  title="Duplicate Service">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                  </svg>
                </button>
                <button 
                  type="button" 
                  class="btn-delete" 
                  (click)="deleteService(i)"
                  [disabled]="services.length <= 1"
                  title="Delete Service">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3 6 5 6 21 6"></polyline>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                  </svg>
                </button>
              </div>
            </div>
            </div>
          </div>

          <!-- Form Tab Content -->
        <div class="form-container" *ngIf="activeTab === 'form'">
          <!-- Quick Start Templates Section -->
          <div class="quick-start-templates" *ngIf="services.length === 0 || (services.length === 1 && !services[0].serviceName && !services[0].dockerImage)">
            <h3>Quick Start: Choose a Template</h3>
            <p class="templates-subtitle">Get started quickly with a pre-configured service template</p>
            <div class="template-cards">
              <div 
                class="template-card" 
                *ngFor="let template of getAvailableTemplates()"
                (click)="selectTemplate(template.name)">
                <div class="template-icon">
                  <svg-icon [type]="template.icon"></svg-icon>
                </div>
                <div class="template-info">
                  <h4>{{ template.displayName }}</h4>
                  <p>{{ getTemplateDescription(template.name) }}</p>
                </div>
                <button type="button" class="template-select-btn">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            <div class="templates-divider">
              <span>or</span>
            </div>
          </div>

          <form [formGroup]="composeForm" (ngSubmit)="generateDockerComposeFile()">
            <!-- Basic Service Configuration -->
            <div class="form-section collapsible" [class.expanded]="expandedSections.basic">
              <div class="section-header" (click)="toggleSection('basic')">
                <h3>Basic Configuration</h3>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="section-toggle-icon">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </div>
              <div class="section-content">
              <div class="form-group">
                <label for="serviceTemplate">Service Template</label>
                <select id="serviceTemplate" formControlName="serviceTemplate">
                  <option value="">Select a template</option>
                  <option value="nginx">Nginx</option>
                  <option value="postgres">PostgreSQL</option>
                  <option value="redis">Redis</option>
                </select>
              </div>
  
              <div class="form-group">
                <label for="serviceName">
                  Service Name <span class="required">*</span>
                  <button 
                    type="button" 
                    class="help-trigger"
                    (click)="showTipsForField('serviceName')"
                    title="Get tips for this field">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <circle cx="12" cy="12" r="10"></circle>
                      <line x1="12" y1="16" x2="12" y2="12"></line>
                      <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                  </button>
                </label>
                <div class="input-with-example">
                  <input 
                    type="text" 
                    id="serviceName" 
                    formControlName="serviceName"
                    placeholder="e.g., web-server, database, api"
                    [class.error]="composeForm.get('serviceName')?.invalid && composeForm.get('serviceName')?.touched">
                  <button 
                    type="button" 
                    class="btn-example"
                    (click)="applyExample('serviceName', 'web-server')"
                    title="Use example">
                    Example
                  </button>
                </div>
                <div class="error-message" *ngIf="getErrorMessage('serviceName') as error">
                  <div class="error-content">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="error-icon">
                      <circle cx="12" cy="12" r="10"></circle>
                      <line x1="12" y1="8" x2="12" y2="12"></line>
                      <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    <div class="error-text">
                      <strong>{{ error.message }}</strong>
                      <span class="error-suggestion" *ngIf="error.suggestion">{{ error.suggestion }}</span>
                    </div>
                  </div>
                </div>
              </div>
  
              <div class="form-group">
                <label for="dockerImage">
                  Docker Image <span class="required">*</span>
                  <button 
                    type="button" 
                    class="help-trigger"
                    (click)="showTipsForField('dockerImage')"
                    title="Get tips for this field">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                  </button>
                </label>
                <div class="input-with-example">
                  <input 
                    type="text" 
                    id="dockerImage" 
                    formControlName="dockerImage"
                    placeholder="e.g., nginx:latest, postgres:15, node:18"
                    [class.error]="composeForm.get('dockerImage')?.invalid && composeForm.get('dockerImage')?.touched">
                  <button 
                    type="button" 
                    class="btn-example"
                    (click)="applyExample('dockerImage', 'nginx:latest')"
                    title="Use example">
                    Example
                  </button>
                </div>
                <div class="error-message" *ngIf="getErrorMessage('dockerImage') as error">
                  <div class="error-content">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="error-icon">
                      <circle cx="12" cy="12" r="10"></circle>
                      <line x1="12" y1="8" x2="12" y2="12"></line>
                      <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    <div class="error-text">
                      <strong>{{ error.message }}</strong>
                      <span class="error-suggestion" *ngIf="error.suggestion">{{ error.suggestion }}</span>
                    </div>
                  </div>
                </div>
              </div>
  
              <div class="form-group grid-2">
                <div>
                  <label for="hostPort">
                    Host Port <span class="required">*</span>
                    <button 
                      type="button" 
                      class="help-trigger"
                      (click)="showTipsForField('hostPort')"
                      title="Get tips for this field">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    </button>
                  </label>
                  <input 
                    type="number" 
                    id="hostPort" 
                    formControlName="hostPort"
                    placeholder="Port to expose on host" 
                    [class.error]="composeForm.get('hostPort')?.invalid && composeForm.get('hostPort')?.touched"
                    min="1" 
                    max="65535">
                  <div class="error-message" *ngIf="getErrorMessage('hostPort') as error">
                    <div class="error-content">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="error-icon">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                      </svg>
                      <div class="error-text">
                        <strong>{{ error.message }}</strong>
                        <span class="error-suggestion" *ngIf="error.suggestion">{{ error.suggestion }}</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <label for="containerPort">
                    Container Port <span class="required">*</span>
                    <button 
                      type="button" 
                      class="help-trigger"
                      (click)="showTipsForField('containerPort')"
                      title="Get tips for this field">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    </button>
                  </label>
                  <input 
                    type="number" 
                    id="containerPort" 
                    formControlName="containerPort"
                    placeholder="Port inside container" 
                    [class.error]="composeForm.get('containerPort')?.invalid && composeForm.get('containerPort')?.touched"
                    min="1" 
                    max="65535">
                  <div class="error-message" *ngIf="getErrorMessage('containerPort') as error">
                    <div class="error-content">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="error-icon">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                      </svg>
                      <div class="error-text">
                        <strong>{{ error.message }}</strong>
                        <span class="error-suggestion" *ngIf="error.suggestion">{{ error.suggestion }}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              </div>
            </div>
  
            <!-- Environment and Volumes -->
            <div class="form-section collapsible" [class.expanded]="expandedSections.configuration">
              <div class="section-header" (click)="toggleSection('configuration')">
                <h3>Configuration</h3>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="section-toggle-icon">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </div>
              <div class="section-content">
              <div class="form-group">
                  <label for="environment">
                    Environment Variables
                    <button 
                      type="button" 
                      class="help-trigger"
                      (click)="showTipsForField('environment')"
                      title="Get tips for this field">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    </button>
                  </label>
                <textarea 
                  id="environment" 
                  formControlName="environment"
                  rows="3" 
                  placeholder="KEY=value&#10;ANOTHER_KEY=value"></textarea>
                <small class="help-text">One variable per line (e.g., NODE_ENV=production)</small>
              </div>
  
              <div class="form-group">
                  <label for="volumes">
                    Volumes
                    <button 
                      type="button" 
                      class="help-trigger"
                      (click)="showTipsForField('volumes')"
                      title="Get tips for this field">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    </button>
                  </label>
                <textarea 
                  id="volumes" 
                  formControlName="volumes"
                  rows="2" 
                  placeholder="./local/path:/container/path&#10;named-volume:/container/path"></textarea>
                <small class="help-text">One volume mapping per line</small>
              </div>
            </div>
  
<!-- Health Check Configuration -->
<div class="form-section" formGroupName="healthCheck">
    <h3>
      Health Check
      <button 
        type="button" 
        class="help-trigger"
        (click)="showTipsForField('healthCheck')"
        title="Get tips for health checks">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
      </button>
    </h3>
  
    <div class="form-group checkbox">
      <button 
        type="button" 
        class="toggle-button" 
        [class.active]="composeForm.get('healthCheck.enabled')?.value" 
        (click)="toggleHealthCheck()">
        {{ composeForm.get('healthCheck.enabled')?.value ? 'Disable Health Check' : 'Enable Health Check' }}
      </button>
    </div>
  
    <div class="health-check-options" *ngIf="composeForm.get('healthCheck.enabled')?.value">
      <div class="form-group grid-3">
        <div>
          <label for="healthCheckInterval">Interval</label>
          <input 
            type="text" 
            id="healthCheckInterval" 
            formControlName="interval"
            placeholder="30s">
          <small class="help-text">How often to check (e.g., 30s, 1m)</small>
        </div>
        <div>
          <label for="healthCheckTimeout">Timeout</label>
          <input 
            type="text" 
            id="healthCheckTimeout" 
            formControlName="timeout"
            placeholder="10s">
          <small class="help-text">Max wait time (e.g., 10s, 5m)</small>
        </div>
        <div>
          <label for="healthCheckRetries">Retries</label>
          <input 
            type="number" 
            id="healthCheckRetries" 
            formControlName="retries"
            placeholder="3"
            min="0">
          <small class="help-text">Failures before marking unhealthy</small>
        </div>
        <div>
          <label for="healthCheckStartPeriod">
            Start Period
            <span class="help-icon" title="Time to wait before starting health checks (e.g., 40s, 1m). Useful for services that need time to initialize."><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></span>
          </label>
          <input 
            type="text" 
            id="healthCheckStartPeriod" 
            formControlName="startPeriod"
            placeholder="40s">
          <small class="help-text">Wait time before first check (optional)</small>
        </div>
      </div>
      <div class="form-group">
        <label for="healthCheckTest">
          Test Command
          <span class="help-icon" title="Custom health check command. Leave empty to auto-detect based on image type."><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></span>
        </label>
        <div class="healthcheck-test-options">
          <select 
            id="healthCheckTestPreset" 
            (change)="applyHealthCheckTestPreset($any($event.target).value)"
            [value]="''">
            <option value="">Auto-detect (recommended)</option>
            <option value="CMD-SHELL">CMD-SHELL (custom command)</option>
            <option value="CMD">CMD (command array)</option>
            <option value="NONE">NONE (disable)</option>
          </select>
          <div *ngIf="getHealthCheckTestArray().length > 0" class="test-command-display">
            <div *ngFor="let cmd of getHealthCheckTestArray(); let i = index" class="test-command-item">
              <input 
                type="text" 
                [value]="cmd"
                (blur)="updateTestCommand(i, $any($event.target).value)"
                placeholder="Command or argument">
              <button 
                type="button" 
                class="btn-remove-test"
                (click)="removeTestCommand(i)"
                *ngIf="getHealthCheckTestArray().length > 1">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              </button>
            </div>
            <button 
              type="button" 
              class="btn-add-test-arg"
              (click)="addTestCommand()">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              Add Argument
            </button>
          </div>
        </div>
        <small class="help-text">
          Custom health check command. Auto-detection works for: HTTP (curl/wget), PostgreSQL (pg_isready), Redis (redis-cli ping), MySQL (mysqladmin ping).
        </small>
      </div>
    </div>
    </div>
  </div>
    
  
            <!-- Resources and Deployment -->
            <div class="form-section collapsible" [class.expanded]="expandedSections.resources">
              <div class="section-header" (click)="toggleSection('resources')">
                <h3>Resources & Deployment</h3>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="section-toggle-icon">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </div>
              <div class="section-content">
              <div formGroupName="resources">
                <div class="form-group grid-2">
                  <div>
                    <label for="cpuLimit">
                      CPU Limit
                      <button 
                        type="button" 
                        class="help-trigger"
                        (click)="showTipsForField('cpuLimit')"
                        title="Get tips for CPU limits">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                      </button>
                    </label>
                    <div class="preset-buttons">
                      <button type="button" class="preset-btn" (click)="applyResourcePreset('low')">Low (0.5)</button>
                      <button type="button" class="preset-btn" (click)="applyResourcePreset('medium')">Medium (1.0)</button>
                      <button type="button" class="preset-btn" (click)="applyResourcePreset('high')">High (2.0)</button>
                    </div>
                    <input 
                      type="number" 
                      id="cpuLimit" 
                      formControlName="cpuLimit"
                      placeholder="0.5"
                      step="0.1">
                    <small class="help-text">Examples: 0.5 = half core, 1.0 = 1 core, 2.5 = 2.5 cores</small>
                  </div>
                  <div>
                      <label for="memoryLimit">
                        Memory Limit (MB)
                        <button 
                          type="button" 
                          class="help-trigger"
                          (click)="showTipsForField('memoryLimit')"
                          title="Get tips for memory limits">
                          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        </button>
                      </label>
                    <input 
                      type="number" 
                      id="memoryLimit" 
                      formControlName="memoryLimit"
                      placeholder="512"
                      min="0">
                    <small class="help-text">Examples: 512MB, 1024MB (1GB), 2048MB (2GB)</small>
                  </div>
                </div>
              </div>
  
              <div class="form-group grid-2">
                <div formGroupName="deploy">
                  <label for="replicas">Replicas</label>
                  <input 
                    type="number" 
                    id="replicas" 
                    formControlName="replicas"
                    placeholder="1" 
                    min="1">
                </div>
                <div>
                  <label for="restart">
                    Restart Policy
                    <button 
                      type="button" 
                      class="help-trigger"
                      (click)="showTipsForField('restart')"
                      title="Get tips for restart policies">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    </button>
                  </label>
                  <select id="restart" formControlName="restart">
                    <option value="always">Always</option>
                    <option value="unless-stopped">Unless Stopped</option>
                    <option value="on-failure">On Failure</option>
                    <option value="no">No</option>
                  </select>
                  <small class="help-text">always = restart on failure, unless-stopped = restart unless manually stopped</small>
                </div>
              </div>
  
              <div class="form-group">
                <label for="depends_on">
                  Dependencies
                  <button 
                    type="button" 
                    class="help-trigger"
                    (click)="showTipsForField('depends_on')"
                    title="Get tips for dependencies">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                  </button>
                </label>
                <div class="dependencies-checkboxes" *ngIf="getAvailableServicesForDependencies().length > 0">
                  <div 
                    *ngFor="let service of getAvailableServicesForDependencies()" 
                    class="dependency-checkbox-item">
                    <input 
                      type="checkbox" 
                      [id]="'dep-' + service.serviceName"
                      [checked]="isServiceInDependencies(service.serviceName)"
                      (change)="toggleDependency(service.serviceName)">
                    <label [for]="'dep-' + service.serviceName">
                      <span class="service-icon-small">{{ getServiceIcon(service) }}</span>
                      {{ service.serviceName }}
                    </label>
                  </div>
                </div>
                <div *ngIf="getAvailableServicesForDependencies().length === 0" class="no-dependencies">
                  <small class="help-text">Add more services to set dependencies</small>
                </div>
                <small class="help-text" *ngIf="getAvailableServicesForDependencies().length > 0">
                  Select services this service depends on. They will start before this service.
                </small>
              </div>

              <div class="form-group">
                <label for="networks">
                  Networks
                  <button 
                    type="button" 
                    class="help-trigger"
                    (click)="showTipsForField('networks')"
                    title="Get tips for networks">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                  </button>
                </label>
                <div class="networks-checkboxes" *ngIf="getAllNetworks().length > 0">
                  <div 
                    *ngFor="let network of getAllNetworks()" 
                    class="network-checkbox-item">
                    <input 
                      type="checkbox" 
                      [id]="'net-' + network"
                      [checked]="isNetworkSelected(network)"
                      (change)="toggleNetwork(network)">
                    <label [for]="'net-' + network">
                      {{ network }}
                    </label>
                  </div>
                </div>
                <div class="networks-actions">
                  <button 
                    type="button" 
                    class="btn-add-network"
                    (click)="addNewNetwork()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="12" y1="5" x2="12" y2="19"></line>
                      <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    Add Network
                  </button>
                </div>
                <small class="help-text">
                  Select networks this service should connect to. Click "Add Network" to create a new network.
                </small>
              </div>

              <div class="form-group">
                <label for="labels">
                  Labels
                  <button 
                    type="button" 
                    class="help-trigger"
                    (click)="showTipsForField('labels')"
                    title="Get tips for labels">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                  </button>
                </label>
                <div class="labels-section">
                  <div class="labels-presets" *ngIf="getLabelsArray().length === 0">
                    <small class="help-text" style="margin-bottom: 0.5rem; display: block;">Common labels:</small>
                    <div class="preset-buttons">
                      <button 
                        *ngFor="let preset of getCommonLabelPresets()"
                        type="button" 
                        class="preset-btn-small"
                        (click)="applyLabelPreset(preset)"
                        [title]="preset.description">
                        {{ preset.key }}
                      </button>
                    </div>
                  </div>
                  <div class="labels-list" *ngIf="getLabelsArray().length > 0">
                    <div 
                      *ngFor="let label of getLabelsArray(); let i = index" 
                      class="label-item">
                      <input 
                        type="text" 
                        class="label-key"
                        [value]="label.key"
                        (blur)="updateLabelKey(label.key, $any($event.target).value)"
                        placeholder="Label key"
                        [class.error]="!isLabelKeyValid(label.key)">
                      <span class="label-separator">=</span>
                      <input 
                        type="text" 
                        class="label-value"
                        [value]="label.value"
                        (blur)="updateLabelValue(label.key, $any($event.target).value)"
                        placeholder="Label value">
                      <button 
                        type="button" 
                        class="btn-remove-label"
                        (click)="removeLabel(label.key)"
                        title="Remove label">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <line x1="18" y1="6" x2="6" y2="18"></line>
                          <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                      </button>
                    </div>
                  </div>
                  <button 
                    type="button" 
                    class="btn-add-label"
                    (click)="addNewLabel()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="12" y1="5" x2="12" y2="19"></line>
                      <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    Add Label
                  </button>
                </div>
                <small class="help-text">
                  Add key-value pairs for service metadata. Common labels: com.docker.compose.project, traefik.*, etc.
                </small>
              </div>
              </div>
            </div>
  
            <div class="form-actions">
              <button type="button" class="secondary" (click)="resetForm()" [disabled]="isGenerating">Reset</button>
              <button type="submit" class="primary" [disabled]="composeForm.invalid || isGenerating">
                <span *ngIf="!isGenerating">Generate Docker Compose File</span>
                <span *ngIf="isGenerating" class="button-loading">
                  <span class="spinner-small"></span>
                  Generating...
                </span>
              </button>
            </div>
          </form>
        </div>
  
        <!-- Diagram Tab Content -->
        <div class="diagram-container" *ngIf="activeTab === 'diagram'">
          <!-- Template Sidebar for Drag and Drop -->
          <div class="template-sidebar">
            <h4>Service Templates</h4>
            <p class="template-hint">Drag templates onto the canvas to create services</p>
            <div class="template-list">
              <div 
                *ngFor="let template of getAvailableTemplates()"
                class="template-item"
                draggable="true"
                (dragstart)="onTemplateDragStart($event, template.name)">
                <span class="template-icon">
                  <svg-icon [type]="template.icon"></svg-icon>
                </span>
                <span class="template-name">{{ template.displayName }}</span>
              </div>
            </div>
          </div>

          <div class="diagram-view" 
               (drop)="onDiagramDrop($event)"
               (dragover)="onDiagramDragOver($event)">
            <svg class="diagram-svg" #diagramSvg viewBox="0 0 1000 700" preserveAspectRatio="xMidYMid meet">
              <!-- Arrow marker definition -->
              <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                  <polygon points="0 0, 10 3, 0 6" fill="#007BFF" />
                </marker>
              </defs>
              <!-- Render edges first (behind nodes) -->
              <g class="edges">
                <line
                  *ngFor="let edge of composeGraph.edges; trackBy: trackByEdge"
                  [attr.x1]="getNodePosition(edge.from)?.x || 0"
                  [attr.y1]="getNodePosition(edge.from)?.y || 0"
                  [attr.x2]="getNodePosition(edge.to)?.x || 0"
                  [attr.y2]="getNodePosition(edge.to)?.y || 0"
                  class="edge-line"
                  [attr.marker-end]="'url(#arrowhead)'">
                </line>
              </g>
              <!-- Render nodes -->
              <g class="nodes">
                <g
                  *ngFor="let node of composeGraph.nodes; trackBy: trackByNode"
                  class="node-group"
                  [attr.transform]="'translate(' + (node.position?.x || 0) + ',' + (node.position?.y || 0) + ')'"
                  (click)="onNodeClick(node.id)"
                  [class.selected]="services[selectedServiceIndex] && node.id === services[selectedServiceIndex].serviceName">
                  <rect class="node-rect" width="120" height="80" rx="8" x="0" y="0"></rect>
                  <foreignObject x="0" y="0" width="120" height="80">
                      <div class="node-content" xmlns="http://www.w3.org/1999/xhtml">
                        <div class="node-icon-text">
                          <svg-icon [type]="getServiceIcon(node.data)"></svg-icon>
                        </div>
                        <div class="node-label-text">{{ node.label }}</div>
                      </div>
                  </foreignObject>
                </g>
              </g>
            </svg>
            <div class="diagram-empty" *ngIf="composeGraph.nodes.length === 0">
              <p>No services to display. Add services using the form or drag templates onto the canvas.</p>
            </div>
          </div>

          <!-- Feedback Prompt - Compact -->
          <div class="feedback-prompt-compact" *ngIf="activeTab === 'diagram' && composeGraph.nodes.length > 0 && !feedbackSubmitted">
            <div class="feedback-content-compact">
              <span class="feedback-question">Is this closer to a 'visual editor'?</span>
              <div class="feedback-buttons-compact" *ngIf="!showFeedbackComment">
                <button type="button" class="feedback-btn-compact yes" (click)="submitFeedback(true)">Yes</button>
                <button type="button" class="feedback-btn-compact no" (click)="submitFeedback(false)">No</button>
              </div>
              <div class="feedback-comment-section" *ngIf="showFeedbackComment">
                <textarea 
                  [(ngModel)]="feedbackComment"
                  placeholder="Tell us what you think..."
                  class="feedback-comment-compact"
                  rows="2"></textarea>
                <button 
                  type="button" 
                  class="feedback-submit-compact"
                  (click)="submitFeedbackComment()"
                  [disabled]="!feedbackComment.trim()">
                  Submit
                </button>
              </div>
            </div>
          </div>
          <div class="feedback-success-compact" *ngIf="feedbackSubmitted">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            <span>Thank you!</span>
          </div>
        </div>

        </div>
        <!-- YAML Preview Tab Content -->
        <div class="yaml-preview" *ngIf="activeTab === 'yaml'">
          <div class="yaml-header">
            <h3>YAML Editor</h3>
            <div class="yaml-mode-controls">
              <button 
                type="button" 
                class="mode-toggle-btn"
                [class.active]="!yamlEditMode"
                (click)="yamlEditMode = false">
                Preview
              </button>
              <button 
                type="button" 
                class="mode-toggle-btn"
                [class.active]="yamlEditMode"
                (click)="enableYamlEditMode()">
                Edit
              </button>
              <button 
                type="button" 
                class="btn-sync-yaml"
                *ngIf="yamlEditMode"
                (click)="syncYamlToForm()"
                [disabled]="isSyncingYaml || yamlEditError">
                <span *ngIf="!isSyncingYaml">Sync to Form</span>
                <span *ngIf="isSyncingYaml" class="loading-text">
                  <span class="spinner-small"></span>
                  Syncing...
                </span>
              </button>
            </div>
          </div>
          
          <div class="yaml-error" *ngIf="yamlEditError">
            <strong>YAML Error:</strong> {{ yamlEditError }}
          </div>
          
          <div *ngIf="!yamlEditMode" class="yaml-preview-content">
            <pre><code>{{ yamlPreview || '# Your YAML will appear here...' }}</code></pre>
          </div>
          
          <div *ngIf="yamlEditMode" class="yaml-editor-content">
            <textarea 
              class="yaml-editor"
              [(ngModel)]="yamlEditContent"
              (input)="onYamlEdit()"
              placeholder="Edit your Docker Compose YAML here..."
              spellcheck="false"></textarea>
          </div>
        </div>
      </div>

    <!-- Save Template Modal -->
    <div class="modal-overlay" *ngIf="showSaveTemplateModal" (click)="closeSaveTemplateModal()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h3>Save as Template</h3>
          <button type="button" class="btn-close-modal" (click)="closeSaveTemplateModal()">√ó</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="templateName">Template Name *</label>
            <input 
              type="text" 
              id="templateName"
              [(ngModel)]="templateName"
              placeholder="e.g., Web App with Database"
              [ngModelOptions]="{standalone: true}"
              class="form-input">
          </div>
          <div class="form-group">
            <label for="templateDescription">Description</label>
            <textarea 
              id="templateDescription"
              [(ngModel)]="templateDescription"
              placeholder="Describe what this template is used for..."
              [ngModelOptions]="{standalone: true}"
              rows="3"
              class="form-input"></textarea>
          </div>
          <div class="form-group">
            <label for="templateTags">Tags (comma-separated)</label>
            <input 
              type="text" 
              id="templateTags"
              [(ngModel)]="templateTags"
              placeholder="e.g., web, database, production"
              [ngModelOptions]="{standalone: true}"
              class="form-input">
            <small class="help-text">Separate tags with commas</small>
          </div>
          <div class="template-preview">
            <strong>This template will include:</strong>
            <ul>
              <li>{{ services.length }} service{{ services.length !== 1 ? 's' : '' }}</li>
              <li *ngFor="let service of services">{{ service.serviceName || 'Unnamed Service' }}</li>
            </ul>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" (click)="closeSaveTemplateModal()">Cancel</button>
          <button 
            type="button" 
            class="btn-primary" 
            (click)="saveTemplate()"
            [disabled]="isSavingTemplate || !templateName.trim()">
            <span *ngIf="!isSavingTemplate">Save Template</span>
            <span *ngIf="isSavingTemplate" class="button-loading">
              <span class="spinner-small"></span>
              Saving...
            </span>
          </button>
        </div>
      </div>
    </div>

    <!-- Save Success Popup -->
    <div class="save-success-popup" *ngIf="showSaveSuccessPopup">
      <div class="success-content">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="success-icon">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <div class="success-text">
          <strong>Template Saved!</strong>
          <p>{{ savedTemplateName }}</p>
        </div>
        <button type="button" class="btn-close-success" (click)="closeSaveSuccessPopup()">√ó</button>
      </div>
    </div>

    <!-- Generate Success Popup -->
    <div class="save-success-popup" *ngIf="showGenerateSuccessPopup">
      <div class="success-content">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="success-icon">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <div class="success-text">
          <strong>Docker Compose File Generated!</strong>
          <p>Your docker-compose.yml file has been downloaded.</p>
        </div>
        <button type="button" class="btn-close-success" (click)="closeGenerateSuccessPopup()">√ó</button>
      </div>
    </div>

    <!-- Suggestions Popup -->
    <div class="suggestions-popup-overlay" *ngIf="showSuggestionsPopup" (click)="closeSuggestionsPopup()">
      <div class="suggestions-popup" (click)="$event.stopPropagation()">
        <div class="popup-header">
          <h3>
            <span class="suggestions-icon">üí°</span>
            Configuration Suggestions ({{ getConfigSuggestions().length }})
          </h3>
          <button type="button" class="btn-close-popup" (click)="closeSuggestionsPopup()">√ó</button>
        </div>
        <div class="popup-content">
          <div *ngFor="let suggestion of getConfigSuggestions()" class="suggestion-item-popup" [class]="'suggestion-' + suggestion.type">
            <div class="suggestion-header-popup">
              <span class="suggestion-icon">
                <span *ngIf="suggestion.type === 'error'">‚ùå</span>
                <span *ngIf="suggestion.type === 'warning'">‚ö†Ô∏è</span>
                <span *ngIf="suggestion.type === 'suggestion'">üí°</span>
                <span *ngIf="suggestion.type === 'optimization'">‚ö°</span>
              </span>
              <strong>{{ suggestion.title }}</strong>
              <span class="severity-badge" [class]="'severity-' + suggestion.severity">
                {{ suggestion.severity }}
              </span>
            </div>
            <p>{{ suggestion.message }}</p>
            <div class="suggestion-fix" *ngIf="suggestion.fix">
              <strong>Fix:</strong> {{ suggestion.fix }}
            </div>
          </div>
        </div>
        <div class="popup-footer">
          <button type="button" class="btn-open-learning" (click)="openLearningCenter(); closeSuggestionsPopup()">
            Open Learning Center
          </button>
        </div>
        </div>
      </div>
    </main>
  
    <!-- Onboarding Modal -->
    <div class="onboarding-overlay" *ngIf="showOnboardingModal" (click)="closeOnboardingModal()">
      <div class="onboarding-modal" (click)="$event.stopPropagation()">
        <div class="onboarding-header">
          <h2>Welcome to Docker Compose Editor</h2>
          <p>Let's get you started building Docker applications the easy way.</p>
        </div>
        <div class="onboarding-content">
          <div class="onboarding-options">
            <div class="onboarding-option" (click)="startFromTemplate()">
              <div class="option-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                  <line x1="9" y1="3" x2="9" y2="21"></line>
                  <line x1="3" y1="9" x2="21" y2="9"></line>
                </svg>
              </div>
              <h3>Start from Template</h3>
              <p>Choose a pre-configured template (Nginx, PostgreSQL, Redis, etc.) and customize it to your needs. Perfect for beginners!</p>
              <button type="button" class="btn-option">Start with Template</button>
            </div>
            <div class="onboarding-option" (click)="startFromScratch()">
              <div class="option-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                  <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                </svg>
              </div>
              <h3>Start from Scratch</h3>
              <p>Build your Docker configuration from the ground up. We'll guide you through each step.</p>
              <button type="button" class="btn-option">Start Building</button>
            </div>
          </div>
          <div class="onboarding-features">
            <h4>What you can do:</h4>
            <ul>
              <li>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                Build Docker applications visually - no YAML knowledge needed
              </li>
              <li>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                Get real-time suggestions and tips as you build
              </li>
              <li>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                See your application structure in a visual diagram
              </li>
              <li>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                Save your work as templates for later use
              </li>
            </ul>
          </div>
        </div>
        <div class="onboarding-footer">
          <button type="button" class="btn-skip" (click)="closeOnboardingModal()">Skip for now</button>
        </div>
      </div>
    </div>

    <footer>
      <p>¬© 2025 Docker Compose Manager. All rights reserved. | <a routerLink="/privacy">Privacy Policy</a></p>
    </footer>